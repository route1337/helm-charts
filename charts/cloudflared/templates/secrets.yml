{{- if .Values.ingress.enabled }}
# ------------------- Ingress Tunnel Token ------------------- #
---
apiVersion: 'kubernetes-client.io/v1'
kind: ExternalSecret
metadata:
  name: {{ .Values.clusterName }}-ingress
  namespace: {{ .Values.namespace }}
spec:
  backendType: {{ .Values.secretsBackend }}
  data:
    - key: {{ .Values.ingress.consoleTokenSecret }}
      name: console_token
{{- end }}
# ------------------- WARP Tunnel Token ------------------- #
{{- if .Values.warp.enabled }}
---
apiVersion: 'kubernetes-client.io/v1'
kind: ExternalSecret
metadata:
  name: {{ .Values.clusterName }}-warp
  namespace: {{ .Values.namespace }}
spec:
  backendType: {{ .Values.secretsBackend }}
  data:
    - key: {{ .Values.warp.consoleTokenSecret }}
      name: console_token
{{- end }}
